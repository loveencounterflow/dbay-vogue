{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/vogue-scraper.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n'use strict'\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'DBAY-VOGUE/SCRAPER'\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\ninfo                      = CND.get_logger 'info',      badge\nurge                      = CND.get_logger 'urge',      badge\nhelp                      = CND.get_logger 'help',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nPATH                      = require 'path'\nGUY                       = require 'guy'\n_types                    = require './types'\n\n\n\n#===========================================================================================================\nclass @Vogue_scraper\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    GUY.props.hide @, 'types',    _types.types\n    GUY.props.hide @, 'defaults', _types.defaults\n    #.......................................................................................................\n    @cfg        = { @defaults.vogue_scraper_constructor_cfg..., cfg..., }\n    # @cfg.vogue ?= new ( require './vogue-db' ).Vogue_db { client: @, }\n    @types.validate.vogue_scraper_constructor_cfg @cfg\n    { vogue, }  = GUY.obj.pluck_with_fallback @cfg, null, 'vogue'; GUY.props.hide @, 'vogue', vogue\n    @cfg        = GUY.lft.freeze @cfg\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  _html_from_html_or_buffer: ( html_or_buffer ) ->\n    @types.validate.vogue_html_or_buffer html_or_buffer\n    if ( @types.type_of html_or_buffer ) is 'buffer'\n      return html_or_buffer.toString @cfg.encoding\n    return html_or_buffer\n\n  #---------------------------------------------------------------------------------------------------------\n  get_sparkline: ( trend ) ->\n    # # values = [ { sid: -1, rank: -1,  }, ]\n    # values = []\n    # for [ sid, rank, ] in trend\n    #   values.push { sid, rank: -rank, }\n    # values.unshift { sid: -1, rank: -1, } if values.length < 2\n    #.......................................................................................................\n    dense_trend         = []\n    dense_trend[ sid ]  = rank for [ sid, rank, ] in trend\n    # for rank, sid in dense_trend\n    #   dense_trend[ sid ] = 21 unless rank?\n    # dense_trend.unshift 21 while dense_trend.length < 12\n    values              = []\n    values.push { sid, rank, } for rank, sid in dense_trend\n    #.......................................................................................................\n    values_json = JSON.stringify values\n    #.......................................................................................................\n    R = \"\"\"<script>\n      document.body.append( VOGUE.sparkline_from_trend( #{values_json} ) );\n      </script>\"\"\"\n    #.......................................................................................................\n    return R\n\n\n\n\n"
  ]
}